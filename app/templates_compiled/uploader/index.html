from __future__ import division
from jinja2.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, TemplateNotFound
name = '\\uploader\\index.html'

def root(context, environment=environment):
    parent_template = None
    if 0: yield None
    parent_template = environment.get_template('app/base.html', '\\uploader\\index.html')
    for name, parent_block in parent_template.blocks.iteritems():
        context.blocks.setdefault(name, []).append(parent_block)
    for event in parent_template.root_render_func(context):
        yield event

def block_content(context, environment=environment):
    l_files = context.resolve('files')
    l_paginator = context.resolve('paginator')
    l_form = context.resolve('form')
    t_1 = environment.filters['safe']
    if 0: yield None
    yield u'\n  <h1>Uploader</h1>\n  <div>\n    %s\n  </div>\n  <table>\n    <tr>\n      <th>Filename</th>\n      <th>Comment</th>\n      <th>Author</th>\n      <th>Tags</th>\n      <th>Created</th>\n      <th>Delete</th>\n    </tr>\n    ' % (
        escape(t_1(context.call(l_form))), 
    )
    l_file = missing
    l_request = context.resolve('request')
    for l_file in environment.getattr(l_files, 'object_list'):
        if 0: yield None
        yield u'\n      <tr>\n        <td><a href="/uploader/download/%s/%s">%s</a<</td>\n        <td>%s</td>\n        <td>%s</td>\n        <td>\n          ' % (
            escape(context.call(environment.getattr(context.call(environment.getattr(l_file, 'key')), 'id'))), 
            escape(environment.getattr(l_file, 'name')), 
            escape(environment.getattr(l_file, 'name')), 
            escape(environment.getattr(l_file, 'comment')), 
            escape(environment.getattr(l_file, 'user')), 
        )
        l_tag = missing
        for l_tag in environment.getattr(l_file, 'tags'):
            if 0: yield None
            yield u'\n            <a href="/tag/%s">%s</a>\n          ' % (
                escape(l_tag), 
                escape(l_tag), 
            )
        l_tag = missing
        yield u'\n        </td>\n        <td>%s</td>\n        <td>\n          ' % (
            escape(context.call(environment.getattr(l_file, 'view_datetime'), 'created')), 
        )
        if (environment.getattr(l_request, 'user') == environment.getattr(l_file, 'user') or environment.getattr(environment.getattr(l_request, 'user'), 'is_admin')):
            if 0: yield None
            yield u'\n            <a href="/uploader/delete/check/%s">Delete</a>\n          ' % (
                escape(context.call(environment.getattr(context.call(environment.getattr(l_file, 'key')), 'id'))), 
            )
        else:
            if 0: yield None
            yield u'\n            -\n          '
        yield u'\n        </td>\n      </tr>\n    '
    l_file = missing
    yield u'\n  </table>\n  %s\n' % (
        escape(t_1(l_paginator)), 
    )

def block_title(context, environment=environment):
    if 0: yield None
    yield u'Uploader'

blocks = {'content': block_content, 'title': block_title}
debug_info = '1=8&3=14&6=21&17=25&19=28&20=31&21=32&23=35&24=38&25=42&27=43&29=45&30=48&31=52&33=53&36=55&38=56&2=59'